# 基于GAS的Timeline技能编辑器实现构想

本次岗前任务的最终目标为在UE中实现一个具有Timeline的技能编辑器。在经过一段时间的GAS学习和一些基础技能的实现后，我对GAS有了大致的认识，现希望制定一些常用的技能框架，并设计自己的编辑器来方便的设计和修改技能。

预期目标：

* 以Timeline形式添加具体功能
* 展示技能动画
* 方便编辑技能属性

## 技能编辑器分析

首先，需要知道一个具体的技能会有哪些需求，以我实现的近战攻击为例，该技能的流程为：
1. 播放montage动画
2. 在动画的某个通知点或某个片段用一个区域扫描来判定技能作用目标
3. 减少命中目标的生命值

由此，我将一个技能抽象为： 动画 -> 目标选择 -> 作用效果。并设想构建一个自己的技能基类，其中包括：
* 动画montage
* 用于目标选择的几何体（触发器或者普通几何体）
* 作用效果集合（GE数组）

### 动画
GA中拥有方便的montage播放函数，并可以响应montage中的通知事件，技能编辑器应该可以在动画的时间轴上添加通知，这些通知控制一些响应函数的调用，如：判定命中目标，修改GameplayTag，生成粒子效果等。

### 目标选择
在我目前实现的近战攻击和锁定行为上都涉及到目标选择，并在我自己的蓝图函数库中实现了部分选择函数。但我希望在编辑器中实现可视且可修改的几何体作为技能作用范围。且几何体可以附加在角色骨骼上

### 作用效果
以GAS为底层框架后，任何属性的变化都可以通过GE进行，但在学习使用后，原本的GE太过泛化，使用需要一定学习成本。后续目标为特化以些常用的GE功能，方便配合编辑器使用。

## 技能编辑器UI
通过UE中的控件反射器可以在编辑器中定位UI对于的类和实现，由此可以找到可以参考的UI。
